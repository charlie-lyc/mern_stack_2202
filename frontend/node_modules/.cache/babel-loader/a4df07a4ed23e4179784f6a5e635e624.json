{"ast":null,"code":"import _slicedToArray from\"/Users/charlie/Documents/YouTube/BradTraversy/mern_stack_2202/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from'react';import{useDispatch,useSelector}from'react-redux';// import { selectAuth } from '../features/auth/authSlice'\nimport{createGoal,reset,selectGoals}from'../features/goals/goalsSlice';/////////////////////////////////////////////////////////\nimport{toast}from'react-toastify';import Spinner from'./Spinner';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var GoalForm=function GoalForm(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),goal=_useState2[0],setGoal=_useState2[1];var dispatch=useDispatch();// const { user } = useSelector(selectAuth)\nvar _useSelector=useSelector(selectGoals),isLoading=_useSelector.isLoading,isSuccess=_useSelector.isSuccess,isError=_useSelector.isError;useEffect(function(){if(isSuccess||isError){dispatch(reset());}},[isSuccess,isError,dispatch]);var handleChange=function handleChange(e){setGoal(e.target.value);};var handleSubmit=function handleSubmit(e){e.preventDefault();if(goal===''){return toast.error('Enter your goal!',{autoClose:750});}var goalData={text:goal};// dispatch(createGoal({ goalData, token: user.token }))\n////////////////////////////////////////////////////////\ndispatch(createGoal(goalData));setGoal('');};if(isLoading)return/*#__PURE__*/_jsx(Spinner,{});return/*#__PURE__*/_jsx(\"section\",{className:\"form\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",onChange:handleChange,value:goal,placeholder:\"Enter your goal!\"})}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-block\",children:\"Add Goal\"})]})});};export default GoalForm;","map":{"version":3,"sources":["/Users/charlie/Documents/YouTube/BradTraversy/mern_stack_2202/frontend/src/components/GoalForm.jsx"],"names":["useState","useEffect","useDispatch","useSelector","createGoal","reset","selectGoals","toast","Spinner","GoalForm","goal","setGoal","dispatch","isLoading","isSuccess","isError","handleChange","e","target","value","handleSubmit","preventDefault","error","autoClose","goalData","text"],"mappings":"4JAAA,OAASA,QAAT,CAAmBC,SAAnB,KAAoC,OAApC,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA;AACA,OAASC,UAAT,CAAqBC,KAArB,CAA4BC,WAA5B,KAA+C,8BAA/C,CACA;AACA,OAASC,KAAT,KAAsB,gBAAtB,CACA,MAAOC,CAAAA,OAAP,KAAoB,WAApB,C,wFAGA,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,EAAM,CACnB,cAA0BT,QAAQ,CAAC,EAAD,CAAlC,wCAAQU,IAAR,eAAcC,OAAd,eACA,GAAMC,CAAAA,QAAQ,CAAGV,WAAW,EAA5B,CACA;AACA,iBAA0CC,WAAW,CAACG,WAAD,CAArD,CAAQO,SAAR,cAAQA,SAAR,CAAmBC,SAAnB,cAAmBA,SAAnB,CAA8BC,OAA9B,cAA8BA,OAA9B,CAEAd,SAAS,CAAC,UAAM,CACZ,GAAIa,SAAS,EAAIC,OAAjB,CAA0B,CACtBH,QAAQ,CAACP,KAAK,EAAN,CAAR,CACH,CACJ,CAJQ,CAIN,CAAES,SAAF,CAAaC,OAAb,CAAsBH,QAAtB,CAJM,CAAT,CAMA,GAAMI,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAAAC,CAAC,CAAI,CACtBN,OAAO,CAACM,CAAC,CAACC,MAAF,CAASC,KAAV,CAAP,CACH,CAFD,CAIA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAAAH,CAAC,CAAI,CACtBA,CAAC,CAACI,cAAF,GACA,GAAIX,IAAI,GAAK,EAAb,CAAiB,CACb,MAAOH,CAAAA,KAAK,CAACe,KAAN,CAAY,kBAAZ,CAAgC,CAAEC,SAAS,CAAE,GAAb,CAAhC,CAAP,CACH,CACD,GAAMC,CAAAA,QAAQ,CAAG,CAAEC,IAAI,CAAEf,IAAR,CAAjB,CAEA;AACA;AACAE,QAAQ,CAACR,UAAU,CAACoB,QAAD,CAAX,CAAR,CAEAb,OAAO,CAAC,EAAD,CAAP,CACH,CAZD,CAcA,GAAIE,SAAJ,CAAe,mBAAO,KAAC,OAAD,IAAP,CAEf,mBACI,gBAAS,SAAS,CAAC,MAAnB,uBACI,cAAM,QAAQ,CAAGO,YAAjB,wBACI,YAAK,SAAS,CAAC,YAAf,uBACI,cAAO,IAAI,CAAC,MAAZ,CACI,QAAQ,CAAGJ,YADf,CAEI,KAAK,CAAGN,IAFZ,CAGI,WAAW,CAAC,kBAHhB,EADJ,EADJ,cAOI,eAAQ,IAAI,CAAC,QAAb,CAAsB,SAAS,CAAC,eAAhC,sBAPJ,GADJ,EADJ,CAgBH,CAhDD,CAkDA,cAAeD,CAAAA,QAAf","sourcesContent":["import { useState, useEffect } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\n// import { selectAuth } from '../features/auth/authSlice'\nimport { createGoal, reset, selectGoals } from '../features/goals/goalsSlice'\n/////////////////////////////////////////////////////////\nimport { toast } from 'react-toastify'\nimport Spinner from './Spinner'\n\n\nconst GoalForm = () => {\n    const [ goal, setGoal ] = useState('')\n    const dispatch = useDispatch()\n    // const { user } = useSelector(selectAuth)\n    const { isLoading, isSuccess, isError } = useSelector(selectGoals)\n\n    useEffect(() => {\n        if (isSuccess || isError) {\n            dispatch(reset())\n        }\n    }, [ isSuccess, isError, dispatch ])\n\n    const handleChange = e => {\n        setGoal(e.target.value)\n    }\n\n    const handleSubmit = e => {\n        e.preventDefault()\n        if (goal === '') {\n            return toast.error('Enter your goal!', { autoClose: 750 })\n        }\n        const goalData = { text: goal }\n\n        // dispatch(createGoal({ goalData, token: user.token }))\n        ////////////////////////////////////////////////////////\n        dispatch(createGoal(goalData))\n\n        setGoal('')\n    }\n\n    if (isLoading) return <Spinner />\n\n    return (\n        <section className='form'>\n            <form onSubmit={ handleSubmit }>\n                <div className=\"form-group\">\n                    <input type=\"text\"\n                        onChange={ handleChange }\n                        value={ goal } \n                        placeholder='Enter your goal!' />\n                </div>\n                <button type=\"submit\" className='btn btn-block'>\n                    Add Goal\n                </button>\n            </form>\n        </section>\n        \n    )\n}\n\nexport default GoalForm"]},"metadata":{},"sourceType":"module"}