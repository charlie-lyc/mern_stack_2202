{"ast":null,"code":"import _defineProperty from\"/Users/charlie/Documents/YouTube/BradTraversy/mern_stack_2202/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/charlie/Documents/YouTube/BradTraversy/mern_stack_2202/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/charlie/Documents/YouTube/BradTraversy/mern_stack_2202/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from'react';import{useNavigate}from'react-router-dom';import{useDispatch,useSelector}from'react-redux';import{loginUser,reset,selectAuth}from'../features/auth/authSlice';/////////////////////////////////////////////////////\nimport{FaSignInAlt}from'react-icons/fa';import{toast}from'react-toastify';import Spinner from'../components/Spinner';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Login=function Login(){var _useState=useState({email:'',password:''}),_useState2=_slicedToArray(_useState,2),formData=_useState2[0],setFormData=_useState2[1];var email=formData.email,password=formData.password;var dispatch=useDispatch();var navigate=useNavigate();var _useSelector=useSelector(selectAuth),isSuccess=_useSelector.isSuccess,isError=_useSelector.isError,message=_useSelector.message,isLoading=_useSelector.isLoading,user=_useSelector.user;useEffect(function(){if(isSuccess){toast.success('Login Success',{autoClose:750});dispatch(reset());navigate('/dashboard');}else if(isError){toast.error(message,{autoClose:750});dispatch(reset());navigate('/login');}},[dispatch,navigate,isSuccess,isError,message,user]);var handleChange=function handleChange(e){setFormData(function(prevState){return _objectSpread(_objectSpread({},prevState),{},_defineProperty({},e.target.name,e.target.value));});};var handleSubmit=function handleSubmit(e){e.preventDefault();// console.log(formData)\nvar userData={email:email,password:password};dispatch(loginUser(userData));setFormData(function(){return{email:'',password:''};});};if(isLoading)return/*#__PURE__*/_jsx(Spinner,{});return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"section\",{className:\"heading\",children:[/*#__PURE__*/_jsxs(\"h1\",{children:[/*#__PURE__*/_jsx(FaSignInAlt,{}),\" Log In\"]}),/*#__PURE__*/_jsx(\"p\",{children:\"Login and start setting goals\"})]}),/*#__PURE__*/_jsx(\"section\",{className:\"form\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"email\",onChange:handleChange,value:email,placeholder:\"Enter your email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",onChange:handleChange,value:password,placeholder:\"Enter password\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-block\",children:\"Login\"})]})})]});};export default Login;","map":{"version":3,"sources":["/Users/charlie/Documents/YouTube/BradTraversy/mern_stack_2202/frontend/src/pages/Login.jsx"],"names":["useState","useEffect","useNavigate","useDispatch","useSelector","loginUser","reset","selectAuth","FaSignInAlt","toast","Spinner","Login","email","password","formData","setFormData","dispatch","navigate","isSuccess","isError","message","isLoading","user","success","autoClose","error","handleChange","e","prevState","target","name","value","handleSubmit","preventDefault","userData"],"mappings":"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","sourcesContent":["import { useState, useEffect } from 'react'\nimport { useNavigate } from 'react-router-dom'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { loginUser, reset, selectAuth } from '../features/auth/authSlice'\n/////////////////////////////////////////////////////\nimport { FaSignInAlt } from 'react-icons/fa'\nimport { toast } from 'react-toastify'\nimport Spinner from '../components/Spinner'\n\n\nconst Login = () => {\n    const [formData, setFormData ] = useState({\n        email: '',\n        password: ''\n    })\n    const { email, password } = formData\n    const dispatch = useDispatch()\n    const navigate = useNavigate()\n    const { isSuccess, isError, message, isLoading, user } = useSelector(selectAuth)\n\n    useEffect(() => {\n        if (isSuccess) {\n            toast.success('Login Success', { autoClose: 750})\n            dispatch(reset())\n            navigate('/dashboard')\n        } else if (isError) {\n            toast.error(message, { autoClose: 750})\n            dispatch(reset())\n            navigate('/login')\n        }\n    }, [ dispatch, navigate, isSuccess, isError, message, user ])\n    \n    const handleChange = e => {\n        setFormData((prevState) => ({\n            ...prevState,\n            [e.target.name]: e.target.value\n        }))\n    }\n\n    const handleSubmit = e => {\n        e.preventDefault()\n        // console.log(formData)\n        const userData = { email, password }\n        dispatch(loginUser(userData))\n        setFormData(() => ({\n            email: '',\n            password: ''\n        }))\n    }\n\n    if (isLoading) return <Spinner />\n\n    return (\n        <>\n            <section className='heading'>\n                <h1>\n                    <FaSignInAlt /> Log In\n                </h1>\n                <p>Login and start setting goals</p>\n            </section>\n            <section className='form'>\n                <form onSubmit={ handleSubmit }>\n                    <div className='form-group'>\n                        <input type=\"text\" \n                            name='email' \n                            onChange={ handleChange }\n                            value={ email } \n                            placeholder='Enter your email' />\n                        <input type=\"password\"\n                            name='password'\n                            onChange={ handleChange }\n                            value={ password }\n                            placeholder='Enter password' />\n                    </div>\n                    <button type=\"submit\" className='btn btn-block'>\n                        Login\n                    </button>\n                </form>\n            </section>\n\n        </>\n    )\n}\n\nexport default Login"]},"metadata":{},"sourceType":"module"}