{"ast":null,"code":"import { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\nimport { fetch, create // update, \n// destroy \n} from './goalsAPI';\nconst goals = JSON.parse(localStorage.getItem('goals'));\nconst goal = JSON.parse(localStorage.getItem('goal'));\nconst initialState = {\n  items: goals ? goals : [],\n  item: goal ? goal : null,\n  message: '',\n  isLoading: false,\n  isSuccess: false,\n  isError: false\n};\nexport const fetchGoals = createAsyncThunk('goals/fetchAllGoals', async (token, thunkAPI) => {\n  try {\n    const res = await fetchAll(token);\n    localStorage.setItem('goals', JSON.stringify(res.data));\n    return res.data;\n  } catch (error) {\n    const message = error.response.data.message || error.message || error.toString();\n    return thunkAPI.rejectWithValue(message);\n  }\n});\nexport const createGoal = createAsyncThunk('goals/createGoal', async (_ref, thunkAPI) => {\n  let {\n    goalData,\n    token\n  } = _ref;\n\n  try {\n    const res = await create(goalData, token);\n    localStorage.setItem('goal', JSON.stringify(res.data));\n    return res.data;\n  } catch (error) {\n    const message = error.response.data.message || error.message || error.toString();\n    return thunkAPI.rejectWithValue(message);\n  }\n}); // export const updateGoal = createAsyncThunk(\n//     'goals/updateGoal',\n//     async (goalData, thunkAPI) => {\n//         try {\n//         } catch (error) {\n//         }\n//     }\n// )\n// export const destroyGoal = createAsyncThunk(\n//     'goals/destroyGoal',\n//     async (goalData, thunkAPI) => {\n//         try {\n//         } catch (error) {\n//         }\n//     }\n// )\n\nexport const goalsSlice = createSlice({\n  name: 'goals',\n  initialState,\n  reducers: {\n    reset: state => {\n      state.message = '';\n      state.isLoading = false;\n      state.isSuccess = false;\n      state.isError = false;\n    }\n  },\n  extraReducers: build => {\n    build.addCase(fetchAllGoals.pending, state => {\n      state.isLoading = true;\n    }).addCase(fetchAllGoals.fulfilled, (state, action) => {\n      state.isLoading = false;\n      state.isSuccess = true;\n      state.items = action.payload;\n    }).addCase(fetchAllGoals.rejected, (state, action) => {\n      state.isLoading = false;\n      state.isError = true;\n      state.message = action.payload;\n    });\n    build.addCase(createGoal.pending, state => {\n      state.isLoading = true;\n    }).addCase(createGoal.fulfilled, (state, action) => {\n      state.isLoading = false;\n      state.isSuccess = true;\n      state.item = action.payload;\n    }).addCase(createGoal.rejected, (state, action) => {\n      state.isLoading = false;\n      state.isError = true;\n      state.message = action.payload;\n    });\n  }\n});\nexport const {\n  reset\n} = goalsSlice.actions;\nexport const selectGoals = state => state.goals;\nexport default goalsSlice.reducer;","map":{"version":3,"sources":["/Users/charlie/Documents/YouTube/BradTraversy/mern_stack_2202/frontend/src/features/goals/goalsSlice.js"],"names":["createAsyncThunk","createSlice","fetch","create","goals","JSON","parse","localStorage","getItem","goal","initialState","items","item","message","isLoading","isSuccess","isError","fetchGoals","token","thunkAPI","res","fetchAll","setItem","stringify","data","error","response","toString","rejectWithValue","createGoal","goalData","goalsSlice","name","reducers","reset","state","extraReducers","build","addCase","fetchAllGoals","pending","fulfilled","action","payload","rejected","actions","selectGoals","reducer"],"mappings":"AAAA,SAASA,gBAAT,EAA2BC,WAA3B,QAA8C,kBAA9C;AACA,SAASC,KAAT,EAAgBC,MAAhB,CACI;AACA;AAFJ,OAGO,YAHP;AAMA,MAAMC,KAAK,GAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAX,CAAd;AACA,MAAMC,IAAI,GAAGJ,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,CAAb;AAEA,MAAME,YAAY,GAAG;AACjBC,EAAAA,KAAK,EAAEP,KAAK,GAAGA,KAAH,GAAW,EADN;AAEjBQ,EAAAA,IAAI,EAAEH,IAAI,GAAGA,IAAH,GAAU,IAFH;AAGjBI,EAAAA,OAAO,EAAE,EAHQ;AAIjBC,EAAAA,SAAS,EAAE,KAJM;AAKjBC,EAAAA,SAAS,EAAE,KALM;AAMjBC,EAAAA,OAAO,EAAE;AANQ,CAArB;AASA,OAAO,MAAMC,UAAU,GAAGjB,gBAAgB,CACtC,qBADsC,EAEtC,OAAOkB,KAAP,EAAcC,QAAd,KAA2B;AACvB,MAAI;AACA,UAAMC,GAAG,GAAG,MAAMC,QAAQ,CAACH,KAAD,CAA1B;AACAX,IAAAA,YAAY,CAACe,OAAb,CAAqB,OAArB,EAA8BjB,IAAI,CAACkB,SAAL,CAAeH,GAAG,CAACI,IAAnB,CAA9B;AACA,WAAOJ,GAAG,CAACI,IAAX;AACH,GAJD,CAIE,OAAOC,KAAP,EAAc;AACZ,UAAMZ,OAAO,GAAGY,KAAK,CAACC,QAAN,CAAeF,IAAf,CAAoBX,OAApB,IAA+BY,KAAK,CAACZ,OAArC,IAAgDY,KAAK,CAACE,QAAN,EAAhE;AACA,WAAOR,QAAQ,CAACS,eAAT,CAAyBf,OAAzB,CAAP;AACH;AACJ,CAXqC,CAAnC;AAcP,OAAO,MAAMgB,UAAU,GAAG7B,gBAAgB,CACtC,kBADsC,EAEtC,aAA4BmB,QAA5B,KAAyC;AAAA,MAAlC;AAAEW,IAAAA,QAAF;AAAYZ,IAAAA;AAAZ,GAAkC;;AACrC,MAAI;AACA,UAAME,GAAG,GAAG,MAAMjB,MAAM,CAAC2B,QAAD,EAAWZ,KAAX,CAAxB;AACAX,IAAAA,YAAY,CAACe,OAAb,CAAqB,MAArB,EAA6BjB,IAAI,CAACkB,SAAL,CAAeH,GAAG,CAACI,IAAnB,CAA7B;AACA,WAAOJ,GAAG,CAACI,IAAX;AACH,GAJD,CAIE,OAAOC,KAAP,EAAc;AACZ,UAAMZ,OAAO,GAAGY,KAAK,CAACC,QAAN,CAAeF,IAAf,CAAoBX,OAApB,IAA+BY,KAAK,CAACZ,OAArC,IAAgDY,KAAK,CAACE,QAAN,EAAhE;AACA,WAAOR,QAAQ,CAACS,eAAT,CAAyBf,OAAzB,CAAP;AACH;AACJ,CAXqC,CAAnC,C,CAcP;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;;AAEA,OAAO,MAAMkB,UAAU,GAAG9B,WAAW,CAAC;AAClC+B,EAAAA,IAAI,EAAE,OAD4B;AAElCtB,EAAAA,YAFkC;AAGlCuB,EAAAA,QAAQ,EAAE;AACNC,IAAAA,KAAK,EAAEC,KAAK,IAAI;AACZA,MAAAA,KAAK,CAACtB,OAAN,GAAgB,EAAhB;AACAsB,MAAAA,KAAK,CAACrB,SAAN,GAAkB,KAAlB;AACAqB,MAAAA,KAAK,CAACpB,SAAN,GAAkB,KAAlB;AACAoB,MAAAA,KAAK,CAACnB,OAAN,GAAgB,KAAhB;AACH;AANK,GAHwB;AAWlCoB,EAAAA,aAAa,EAAEC,KAAK,IAAI;AACpBA,IAAAA,KAAK,CAACC,OAAN,CAAcC,aAAa,CAACC,OAA5B,EAAqCL,KAAK,IAAI;AACtCA,MAAAA,KAAK,CAACrB,SAAN,GAAkB,IAAlB;AACH,KAFL,EAEOwB,OAFP,CAEeC,aAAa,CAACE,SAF7B,EAEwC,CAACN,KAAD,EAAQO,MAAR,KAAmB;AACnDP,MAAAA,KAAK,CAACrB,SAAN,GAAkB,KAAlB;AACAqB,MAAAA,KAAK,CAACpB,SAAN,GAAkB,IAAlB;AACAoB,MAAAA,KAAK,CAACxB,KAAN,GAAc+B,MAAM,CAACC,OAArB;AACH,KANL,EAMOL,OANP,CAMeC,aAAa,CAACK,QAN7B,EAMuC,CAACT,KAAD,EAAQO,MAAR,KAAmB;AAClDP,MAAAA,KAAK,CAACrB,SAAN,GAAkB,KAAlB;AACAqB,MAAAA,KAAK,CAACnB,OAAN,GAAgB,IAAhB;AACAmB,MAAAA,KAAK,CAACtB,OAAN,GAAgB6B,MAAM,CAACC,OAAvB;AACH,KAVL;AAWAN,IAAAA,KAAK,CAACC,OAAN,CAAcT,UAAU,CAACW,OAAzB,EAAkCL,KAAK,IAAI;AACnCA,MAAAA,KAAK,CAACrB,SAAN,GAAkB,IAAlB;AACH,KAFL,EAEOwB,OAFP,CAEeT,UAAU,CAACY,SAF1B,EAEqC,CAACN,KAAD,EAAQO,MAAR,KAAmB;AAChDP,MAAAA,KAAK,CAACrB,SAAN,GAAkB,KAAlB;AACAqB,MAAAA,KAAK,CAACpB,SAAN,GAAkB,IAAlB;AACAoB,MAAAA,KAAK,CAACvB,IAAN,GAAa8B,MAAM,CAACC,OAApB;AACH,KANL,EAMOL,OANP,CAMeT,UAAU,CAACe,QAN1B,EAMoC,CAACT,KAAD,EAAQO,MAAR,KAAmB;AAC/CP,MAAAA,KAAK,CAACrB,SAAN,GAAkB,KAAlB;AACAqB,MAAAA,KAAK,CAACnB,OAAN,GAAgB,IAAhB;AACAmB,MAAAA,KAAK,CAACtB,OAAN,GAAgB6B,MAAM,CAACC,OAAvB;AACH,KAVL;AAWH;AAlCiC,CAAD,CAA9B;AAqCP,OAAO,MAAM;AAAET,EAAAA;AAAF,IAAYH,UAAU,CAACc,OAA7B;AAEP,OAAO,MAAMC,WAAW,GAAGX,KAAK,IAAIA,KAAK,CAAC/B,KAAnC;AAEP,eAAe2B,UAAU,CAACgB,OAA1B","sourcesContent":["import { createAsyncThunk, createSlice } from '@reduxjs/toolkit'\nimport { fetch, create, \n    // update, \n    // destroy \n} from './goalsAPI'\n\n\nconst goals = JSON.parse(localStorage.getItem('goals'))\nconst goal = JSON.parse(localStorage.getItem('goal'))\n\nconst initialState = {\n    items: goals ? goals : [],\n    item: goal ? goal : null,\n    message: '',\n    isLoading: false,\n    isSuccess: false,\n    isError: false\n}\n\nexport const fetchGoals = createAsyncThunk(\n    'goals/fetchAllGoals',\n    async (token, thunkAPI) => {\n        try {\n            const res = await fetchAll(token)\n            localStorage.setItem('goals', JSON.stringify(res.data))\n            return res.data\n        } catch (error) {\n            const message = error.response.data.message || error.message || error.toString()\n            return thunkAPI.rejectWithValue(message)\n        }\n    }\n)\n\nexport const createGoal = createAsyncThunk(\n    'goals/createGoal',\n    async ({ goalData, token }, thunkAPI) => {\n        try {\n            const res = await create(goalData, token)\n            localStorage.setItem('goal', JSON.stringify(res.data))\n            return res.data\n        } catch (error) {\n            const message = error.response.data.message || error.message || error.toString()\n            return thunkAPI.rejectWithValue(message)\n        }\n    }\n)\n\n// export const updateGoal = createAsyncThunk(\n//     'goals/updateGoal',\n//     async (goalData, thunkAPI) => {\n//         try {\n            \n//         } catch (error) {\n            \n//         }\n//     }\n// )\n\n// export const destroyGoal = createAsyncThunk(\n//     'goals/destroyGoal',\n//     async (goalData, thunkAPI) => {\n//         try {\n            \n//         } catch (error) {\n            \n//         }\n//     }\n// )\n\nexport const goalsSlice = createSlice({\n    name: 'goals',\n    initialState,\n    reducers: {\n        reset: state => {\n            state.message = ''\n            state.isLoading = false\n            state.isSuccess = false \n            state.isError = false\n        }\n    },\n    extraReducers: build => {\n        build.addCase(fetchAllGoals.pending, state => {\n                state.isLoading = true\n            }).addCase(fetchAllGoals.fulfilled, (state, action) => {\n                state.isLoading = false\n                state.isSuccess = true\n                state.items = action.payload\n            }).addCase(fetchAllGoals.rejected, (state, action) => {\n                state.isLoading = false\n                state.isError = true\n                state.message = action.payload\n            })\n        build.addCase(createGoal.pending, state => {\n                state.isLoading = true\n            }).addCase(createGoal.fulfilled, (state, action) => {\n                state.isLoading = false\n                state.isSuccess = true\n                state.item = action.payload\n            }).addCase(createGoal.rejected, (state, action) => {\n                state.isLoading = false\n                state.isError = true\n                state.message = action.payload\n            })\n    }\n})\n\nexport const { reset } = goalsSlice.actions\n\nexport const selectGoals = state => state.goals\n\nexport default goalsSlice.reducer"]},"metadata":{},"sourceType":"module"}