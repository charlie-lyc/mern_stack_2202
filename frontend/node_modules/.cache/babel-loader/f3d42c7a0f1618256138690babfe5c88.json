{"ast":null,"code":"import { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\nimport { register } from './authAPI';\n/**\n * Get User from Local Storage\n */\n\nconst user = JSON.parse(localStorage.getItem('user'));\nconst initialState = {\n  user: user ? user : null,\n  message: '',\n  // status: 'error' || 'loading' || 'success'\n  isError: false,\n  isLoading: false,\n  isSuccess: false\n};\nexport const registerUser = createAsyncThunk('auth/registerUser', async (userData, thunkAPI) => {\n  // if (res.data) {\n  //     localStorage.setItem('user', JSON.stringify(res.data))\n  // }\n  try {\n    return await register(userData);\n  } catch (error) {\n    const message = error.response && error.response.data && error.response.data.message || error.message || error.toString(); // const message = error.response.data.message || error.message || error.toString() \n\n    return thunkAPI.rejectWithValue(message);\n  }\n});\nexport const authSlice = createSlice({\n  name: 'auth',\n  initialState,\n  reducers: {\n    reset: state => {\n      state.message = ''; // state.status = 'error' || 'loading' || 'success'\n\n      state.isError = false;\n      state.isLoading = false;\n      state.isSuccess = false;\n    }\n  },\n  extraReducers: builder => {\n    builder.addCase(registerUser.pending, state => {\n      state.isError = false;\n      state.isLoading = true;\n      state.isSuccess = false;\n    }).addCase(registerUser.fulfilled, (state, action) => {\n      state.isError = false;\n      state.isLoading = false;\n      state.isSuccess = true;\n      state.message = action.payload.user;\n      state.message = action.payload.message;\n    }).addCase(registerUser.rejected, (state, action) => {\n      state.isError = true;\n      state.isLoading = false;\n      state.isSuccess = false;\n      state.message = action.payload.user;\n      state.message = action.payload.message;\n    });\n  }\n});\nexport const {\n  reset\n} = authSlice.actions;\nexport const selectMessage = state => state.auth.message;\nexport default authSlice.reducer;","map":{"version":3,"sources":["/Users/charlie/Documents/YouTube/BradTraversy/mern_stack_2202/frontend/src/features/auth/authSlice.js"],"names":["createAsyncThunk","createSlice","register","user","JSON","parse","localStorage","getItem","initialState","message","isError","isLoading","isSuccess","registerUser","userData","thunkAPI","error","response","data","toString","rejectWithValue","authSlice","name","reducers","reset","state","extraReducers","builder","addCase","pending","fulfilled","action","payload","rejected","actions","selectMessage","auth","reducer"],"mappings":"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","sourcesContent":["import { createAsyncThunk, createSlice } from '@reduxjs/toolkit'\nimport { register } from './authAPI'\n\n/**\n * Get User from Local Storage\n */\nconst user = JSON.parse(localStorage.getItem('user'))\n\nconst initialState = {\n    user: user ? user : null,\n    message: '',\n    // status: 'error' || 'loading' || 'success'\n    isError: false,\n    isLoading: false,\n    isSuccess: false\n}\n\nexport const registerUser = createAsyncThunk(\n    'auth/registerUser',\n    async (userData, thunkAPI) => {\n\n        // if (res.data) {\n        //     localStorage.setItem('user', JSON.stringify(res.data))\n        // }\n\n        try {\n            return await register(userData)\n        } catch (error) {\n            const message = (error.response && error.response.data && error.response.data.message) || error.message || error.toString()\n            // const message = error.response.data.message || error.message || error.toString() \n            return thunkAPI.rejectWithValue(message)\n        }\n    }\n)\n\nexport const authSlice = createSlice({\n    name: 'auth',\n    initialState,\n    reducers: {\n        reset: state => {\n            state.message = ''\n            // state.status = 'error' || 'loading' || 'success'\n            state.isError = false\n            state.isLoading = false\n            state.isSuccess = false\n        }\n    },\n    extraReducers: builder =>{\n        builder.addCase(registerUser.pending, state => {\n                state.isError = false\n                state.isLoading = true\n                state.isSuccess = false\n            }).addCase(registerUser.fulfilled, (state, action) => {\n                state.isError = false\n                state.isLoading = false\n                state.isSuccess = true\n                state.message = action.payload.user\n                state.message = action.payload.message\n            }).addCase(registerUser.rejected, (state, action) => {\n                state.isError = true\n                state.isLoading = false\n                state.isSuccess = false\n                state.message = action.payload.user\n                state.message = action.payload.message\n            })\n    }\n})\n\nexport const { reset } = authSlice.actions\n\nexport const selectMessage = state => state.auth.message\n\nexport default authSlice.reducer"]},"metadata":{},"sourceType":"module"}